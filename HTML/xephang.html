<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>B·∫£ng X·∫øp H·∫°ng</title>
  <link rel="stylesheet" href="/CSS/xephang.css" />
</head>
<body>
  <div class="header">
    <div class="logo">üéÆ</div>
    <div class="nav">
      <a href="index.html">Trang ch·ªß</a>
      <a href="giaidau.html">Gi·∫£i ƒë·∫•u</a>
      <div class="dropdown">
        <a href="#">ƒê·ªôi thi ƒë·∫•u ‚ñæ</a>
        <div class="dropdown-content">
          <a href="timdoituyen.html">T√¨m ƒë·ªôi tuy·ªÉn</a>
          <a href="taodoituyen.html">T·∫°o ƒë·ªôi tuy·ªÉn</a>
        </div>
      </div>
      <a href="trandau.html">Tr·∫≠n ƒê·∫•u</a>
      <a href="xephang.html">B·∫£ng X·∫øp H·∫°ng</a>
      <a href="lichsugiaidau.html">L·ªãch S·ª≠ ƒê·∫•u</a>
      <a href="admin.html">Qu·∫£n L√Ω</a>
    </div>
  </div>

  <div class="container">
    <h2>B·∫£ng X·∫øp H·∫°ng</h2>
    <div class="ranking-grid" id="rankingGrid">
      <!-- D·ªØ li·ªáu b·∫£ng x·∫øp h·∫°ng s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã t·∫°i ƒë√¢y -->
    </div>
  </div>

  <script>
    fetch('http://localhost:5000/BangXepHang/GetAll')
      .then(response => {
        if (!response.ok) {
          throw new Error("Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu t·ª´ server");
        }
        return response.json();
      })
      .then(data => {
        const grid = document.getElementById('rankingGrid');
        grid.innerHTML = ''; // Clear n·∫øu c√≥ s·∫µn

        if (!data || data.length === 0) {
          grid.innerHTML = '<p>Kh√¥ng c√≥ d·ªØ li·ªáu x·∫øp h·∫°ng.</p>';
          return;
        }

        data.forEach((item, index) => {
          const card = document.createElement('div');
          card.className = 'ranking-card';
          card.innerHTML = `
            <div class="rank">#${index + 1}</div>
            <div><strong>ƒê·ªôi:</strong> ${item.TenDoi ?? item.IdDoi ?? 'Kh√¥ng r√µ'}</div>
            <div><strong>Gi·∫£i:</strong> ${item.TenGiai ?? item.IdGiai ?? 'Kh√¥ng r√µ'}</div>
            <div><strong>Tr·∫≠n:</strong> ${item.SoTran ?? '0'}</div>
            <div><strong>Th·∫Øng:</strong> ${item.SoTranThang ?? item.TranThang ?? '0'}</div>
            <div><strong>H√≤a:</strong> ${item.SoTranHoa ?? item.TranHoa ?? '0'}</div>
            <div><strong>Thua:</strong> ${item.SoTranThua ?? item.TranThua ?? '0'}</div>
            <div><strong>Hi·ªáu s·ªë:</strong> ${item.HieuSo ?? '0'}</div>
            <div><strong>ƒêi·ªÉm:</strong> ${item.Diem ?? '0'}</div>
          `;
          grid.appendChild(card);
        });
      })
      .catch(error => {
        console.error('L·ªói khi load d·ªØ li·ªáu:', error);
        const grid = document.getElementById('rankingGrid');
        grid.innerHTML = `<p class="error">‚ùå L·ªói khi t·∫£i d·ªØ li·ªáu: ${error.message}</p>`;
      });
  </script>
</body>
</html>
