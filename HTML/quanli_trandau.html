<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n l√Ω Tr·∫≠n ƒê·∫•u</title>
    <link rel="stylesheet" href="/CSS/quanli_trandau.css">
</head>
<body>
    <div class="sidebar">
        <h2>Qu·∫£n Tr·ªã</h2>
        <a href="quanlygiaidau.html">üì¶ Qu·∫£n l√Ω Gi·∫£i ƒê·∫•u</a>
        <a href="quanly_Team_Player.html">üßæ Qu·∫£n l√Ω Team v√† Player</a>
        <a href="quanli_trandau.html">üéÆ Qu·∫£n l√Ω Tr·∫≠n ƒê·∫•u</a>
        <a href="quanli_xephang.html">üìä Qu·∫£n L√Ω B·∫£ng X·∫øp H·∫°ng</a>
        <a href="quanli_taikhoan.html">ü™™ Qu·∫£n L√Ω T√†i kho·∫£n</a>
        <a href="index.html">üè† Quay L·∫°i</a>
    </div>

    <div class="content">
        <div class="header">
            <h2>üéÆ Qu·∫£n L√Ω Tr·∫≠n ƒê·∫•u</h2>
            <div class="btn-container">
                <button class="btn btn-primary" onclick="openAddModal()">+ Th√™m Tr·∫≠n ƒê·∫•u</button>
                <button class="btn btn-success" onclick="refreshData()">üîÑ T·∫£i L·∫°i</button>
            </div>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="T√¨m ki·∫øm tr·∫≠n ƒë·∫•u..." id="searchInput">
            </div>
        </div>

        <div class="table-container">
            <table id="matchTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Gi·∫£i ƒê·∫•u</th>
                        <th>ƒê·ªôi 1</th>
                        <th>ƒê·ªôi 2</th>
                        <th>T·ª∑ S·ªë</th>
                        <th>Ng√†y Thi ƒê·∫•u</th>
                        <th>V√≤ng ƒê·∫•u</th>
                        <th>Tr·∫°ng Th√°i</th>
                        <th>ƒê·ªôi Th·∫Øng</th>
                        <th>Thao T√°c</th>
                    </tr>
                </thead>
                <tbody id="matchTableBody">
                    <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c load t·ª´ API -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Modal Th√™m/S·ª≠a Tr·∫≠n ƒê·∫•u -->
    <div id="matchModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Th√™m Tr·∫≠n ƒê·∫•u M·ªõi</h3>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="matchForm">
                    <div class="form-group">
                        <label for="idGiai">Gi·∫£i ƒê·∫•u *</label>
                        <select id="idGiai" name="idGiai" required>
                            <option value="">Ch·ªçn gi·∫£i ƒë·∫•u</option>
                            <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c load t·ª´ API -->
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="team1">ƒê·ªôi 1 *</label>
                            <select id="team1" name="team1" required>
                                <option value="">Ch·ªçn ƒë·ªôi 1</option>
                                <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c load t·ª´ API -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="team2">ƒê·ªôi 2 *</label>
                            <select id="team2" name="team2" required>
                                <option value="">Ch·ªçn ƒë·ªôi 2</option>
                                <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c load t·ª´ API -->
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="tiSoTeam1">T·ª∑ S·ªë ƒê·ªôi 1</label>
                            <input type="number" id="tiSoTeam1" name="tiSoTeam1" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="tiSoTeam2">T·ª∑ S·ªë ƒê·ªôi 2</label>
                            <input type="number" id="tiSoTeam2" name="tiSoTeam2" min="0" value="0">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="ngayThiDau">Ng√†y Thi ƒê·∫•u *</label>
                            <input type="datetime-local" id="ngayThiDau" name="ngayThiDau" required>
                        </div>
                        <div class="form-group">
                            <label for="vongDau">V√≤ng ƒê·∫•u</label>
                            <input type="text" id="vongDau" name="vongDau" placeholder="VD: V√≤ng 1, T·ª© k·∫øt...">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="trangThai">Tr·∫°ng Th√°i</label>
                            <select id="trangThai" name="trangThai">
                                <option value="Ch∆∞a di·ªÖn ra">Ch∆∞a di·ªÖn ra</option>
                                <option value="ƒêang di·ªÖn ra">ƒêang di·ªÖn ra</option>
                                <option value="ƒê√£ k·∫øt th√∫c">ƒê√£ k·∫øt th√∫c</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="teamThang">ƒê·ªôi Th·∫Øng</label>
                            <select id="teamThang" name="teamThang">
                                <option value="">Ch∆∞a x√°c ƒë·ªãnh</option>
                                <!-- S·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t d·ª±a tr√™n Team1 v√† Team2 -->
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="ghiChu">Ghi Ch√∫</label>
                        <textarea id="ghiChu" name="ghiChu" placeholder="Nh·∫≠p ghi ch√∫ cho tr·∫≠n ƒë·∫•u..."></textarea>
                    </div>

                    <div class="btn-container">
                        <button type="submit" class="btn btn-primary">L∆∞u</button>
                        <button type="button" class="btn btn-danger" onclick="closeModal()">H·ªßy</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        let currentMatchId = null;
        let isEditMode = false;

        // M·ªü modal th√™m tr·∫≠n ƒë·∫•u
        function openAddModal() {
            isEditMode = false;
            currentMatchId = null;
            document.getElementById('modalTitle').textContent = 'Th√™m Tr·∫≠n ƒê·∫•u M·ªõi';
            document.getElementById('matchForm').reset();
            document.getElementById('matchModal').style.display = 'block';
        }

        // M·ªü modal s·ª≠a tr·∫≠n ƒë·∫•u
        function editMatch(id) {
            isEditMode = true;
            currentMatchId = id;
            document.getElementById('modalTitle').textContent = 'S·ª≠a Tr·∫≠n ƒê·∫•u';
            // TODO: Load d·ªØ li·ªáu tr·∫≠n ƒë·∫•u v√† fill v√†o form
            document.getElementById('matchModal').style.display = 'block';
        }

        // ƒê√≥ng modal
        function closeModal() {
            document.getElementById('matchModal').style.display = 'none';
            document.getElementById('matchForm').reset();
        }

        // X√≥a tr·∫≠n ƒë·∫•u
        function deleteMatch(id) {
            if (confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a tr·∫≠n ƒë·∫•u n√†y?')) {
                // TODO: G·ªçi API x√≥a tr·∫≠n ƒë·∫•u
                console.log('X√≥a tr·∫≠n ƒë·∫•u ID:', id);
            }
        }

        // T·∫£i l·∫°i d·ªØ li·ªáu
        function refreshData() {
            // TODO: G·ªçi API load l·∫°i d·ªØ li·ªáu
            console.log('T·∫£i l·∫°i d·ªØ li·ªáu');
        }

        // X·ª≠ l√Ω submit form
        document.getElementById('matchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData);
            
            if (isEditMode) {
                // TODO: G·ªçi API c·∫≠p nh·∫≠t tr·∫≠n ƒë·∫•u
                console.log('C·∫≠p nh·∫≠t tr·∫≠n ƒë·∫•u:', data);
            } else {
                // TODO: G·ªçi API t·∫°o tr·∫≠n ƒë·∫•u m·ªõi
                console.log('T·∫°o tr·∫≠n ƒë·∫•u m·ªõi:', data);
            }
            
            closeModal();
        });

        // T√¨m ki·∫øm
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            // TODO: Implement t√¨m ki·∫øm
            console.log('T√¨m ki·∫øm:', searchTerm);
        });

        // ƒê√≥ng modal khi click b√™n ngo√†i
        window.onclick = function(event) {
            const modal = document.getElementById('matchModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // C·∫≠p nh·∫≠t dropdown ƒë·ªôi th·∫Øng khi ch·ªçn ƒë·ªôi 1 ho·∫∑c ƒë·ªôi 2
        document.getElementById('team1').addEventListener('change', updateWinnerOptions);
        document.getElementById('team2').addEventListener('change', updateWinnerOptions);

        function updateWinnerOptions() {
            const team1 = document.getElementById('team1');
            const team2 = document.getElementById('team2');
            const teamThang = document.getElementById('teamThang');
            
            // X√≥a c√°c option c≈©
            teamThang.innerHTML = '<option value="">Ch∆∞a x√°c ƒë·ªãnh</option>';
            
            // Th√™m option cho ƒë·ªôi 1
            if (team1.value && team1.selectedOptions[0]) {
                const option1 = document.createElement('option');
                option1.value = team1.value;
                option1.textContent = team1.selectedOptions[0].textContent;
                teamThang.appendChild(option1);
            }
            
            // Th√™m option cho ƒë·ªôi 2
            if (team2.value && team2.selectedOptions[0]) {
                const option2 = document.createElement('option');
                option2.value = team2.value;
                option2.textContent = team2.selectedOptions[0].textContent;
                teamThang.appendChild(option2);
            }
        }
    </script>
</body>
</html>