<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giáº£i Äáº¥u</title>
    <link rel="stylesheet" href="/CSS/giaidau.css">
</head>
<body>
    <div class="header">
        <div class="logo">ğŸ®</div>
        <div class="nav">
          <a href="index.html">Trang chá»§</a>
          <a href="giaidau.html">Giáº£i Ä‘áº¥u</a>
          <div class="dropdown">
            <a href="#">Äá»™i thi Ä‘áº¥u â–¾</a>
            <div class="dropdown-content">
              <a href="timdoituyen.html">TÃ¬m Ä‘á»™i tuyá»ƒn</a>
              <a href="taodoituyen.html">Táº¡o Ä‘á»™i tuyá»ƒn</a>
            </div>
          </div>
          <a href="trandau.html">Tráº­n Äáº¥u</a>
          <a href="xephang.html">Báº£ng Xáº¿p Háº¡ng</a>
          <a href="lichsugiaidau.html">Lá»‹ch Sá»­ Äáº¥u</a>
          <a href="admin.html">Quáº£n LÃ½</a>
        </div>
    </div>
<div class="search-bar">
    <input type="text" id="searchInput" placeholder="TÃ¬m kiáº¿m Giáº£i Äáº¥u" />
    <div class="create">
        <a href="taogiaidau.html">Táº¡o Giáº£i Äáº¥u</a>
    </div>
</div>


        <div id="giaidauContainer" class="card-container">
        <!-- Card sáº½ Ä‘Æ°á»£c táº¡o báº±ng JS vÃ  chÃ¨n vÃ o Ä‘Ã¢y -->
    </div>

    <script>
async function loadGiaiDau() {
    try {
        const res = await fetch('http://127.0.0.1:5000/GiaiDau/GetAll');
        const data = await res.json();

        const container = document.getElementById('giaidauContainer');
        container.innerHTML = '';

        data.forEach(item => {
            const card = document.createElement('div');
            card.classList.add('card');
            card.setAttribute('data-ten', item.TenGiai.toLowerCase());

            card.innerHTML = `
                <h3>${item.TenGiai}</h3>
                <p><strong>NgÃ y báº¯t Ä‘áº§u:</strong> ${item.NgayBatDau || 'ChÆ°a xÃ¡c Ä‘á»‹nh'}</p>
                <p><strong>NgÃ y káº¿t thÃºc:</strong> ${item.NgayKetThuc || 'ChÆ°a xÃ¡c Ä‘á»‹nh'}</p>
                <p class="mota">${item.MoTa || 'KhÃ´ng cÃ³ mÃ´ táº£'}</p>
            `;
            container.appendChild(card);
        });
    } catch (error) {
        console.error('Lá»—i khi láº¥y dá»¯ liá»‡u:', error);
    }
}

function searchGiaiDau() {
    const filter = document.getElementById('searchInput').value.toLowerCase();
    const cards = document.querySelectorAll('#giaidauContainer .card');

    cards.forEach(card => {
        const ten = card.getAttribute('data-ten');
        if (ten.includes(filter)) {
            card.style.display = '';
        } else {
            card.style.display = 'none';
        }
    });
}

window.onload = () => {
    loadGiaiDau();

    // GÃ¡n sá»± kiá»‡n cho Ã´ tÃ¬m kiáº¿m
    document.getElementById('searchInput').addEventListener('input', searchGiaiDau);
};

    </script>
</body>
</html>